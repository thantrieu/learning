<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<title>Generate Ads networks preview</title>
		<link href="data:image/x-icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAACxSagAAAAAALJJqAC1UK0AkDqBAPn5+QCiQZYAizZ8AK5IowCMNnwAsn6oALRLqwCVRIYAkkuDAJ1SkAC5YLIAtlmtAJM8hACDMXIAmj+MAKxGoQC2Ta4AsE2mALFNpgCWTYYAtVCuAIczdQCtS6QAkj2CAI05fQCqSp8AiTh4AKxGogCmRpoAvWK2AK1JogC3UK8AqEWdAIYzdgCHM3YAkjqDAI82fgC1S60AgjJxALVdrACkVpcAjTl+ALxgtACmQ5sAjjx+AIQ0dACcP44A/v7+AJ1QkACIM3cAqEieAI06fACzT6sAkj2EALRPqwCobJwArkumAIMycgCjXZUAizV6AKFDlACzSqkAkTiCALZRrgCVP4cAmDuKALNNqQCGN3UAhzd1AKpFnwCqV54AkzqFAJQ6hQCwSKcAsFqmALRPrAC1T6wAgzJzAJs9jQCUPYUAhDJzAKFDlQCQPIAAt1GvAKhGnQC5X7EAo1SXAK9JpQCYPosAhzd2AI83fgCIN3YAtkytAIk2eQCLOXkAsU6oALdRsAC4UbAAqUaeAJM7hACwSaYAiDd3AJo+jAC2TK4AlEyGAJlBjACJNnoAvWG1AIYydQCLOXoA////ALJOqQC1SqwAuFGxAI04fQCfP5IAo0aXAI07fQD9/f0AokGVAJ1AkACjZJYAs06qAJhOigD7+/sAnEOQAKRDmACDMXEAm0qNAI07fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBbYA1W0tPLFpwIi8PAQEBK1JxQENGeDAgAipsYUIBATI+hBopTVN8JRQAdRVhAQFvJhKCczR7e3MfCE4LFQEBBAcngnM/DIWCNB9KaQsBAV0oCYJzGFU2X3MfBmdcAQFBM0yCcwp+PII0a2t8WQEBN4N9gnOBBQVzH3doE1YBAT0jIYJzDh1ignMxLlRuAQF/RxuCcy0Reg1zHx+GOgEBGSQ5gnNzNDRzHx9JHzgBAVB2ZRAQEBAQEBxjXklqAQFkJHZmURceeYJFV3JgSAEBAXQDWEQ7Fh55gkVXcgEBAQEBAQEBAQEBAQEBAQEBAf//AADAAwAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAwAMAAP//AAA=" rel="icon" type="image/x-icon" />
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	</head>
	<body>
	<div class="jumbotron jumbotron-fluid text-center" style="margin-bottom:0">
		<h1 class="text">Welcome To Branium Academy</h1>
		<h3 class="text">Some new products coming soon!</h3> 
	</div>

	<nav class="navbar navbar-expand-sm bg-dark navbar-dark sticky-top">
		<a class="navbar-brand" href="#">Home</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="collapsibleNavbar">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link" href="#">Playable</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Document</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Social Network</a>
				</li>    
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
						More
					</a>
					<div class="dropdown-menu">
						<a class="dropdown-item" href="#">A Product</a>
						<a class="dropdown-item" href="#">An Other</a>
						<a class="dropdown-item" href="#">The Other</a>
					</div>
				</li>
			</ul>
			<ul class="navbar-nav ml-auto">
				<form class="form-inline mr-auto" action="">
					<input class="form-control mr-sm-2" type="text" placeholder="Search..">
					<button class="btn btn-success" type="submit">Search</button>
				</form>
			</ul>
		</div>  
	</nav>
	<script type="text/javascript" src="js/isData.js"></script>
	<script type="text/javascript" src="js/engine.js"></script>
	<script type="text/javascript" src="js/fb.js"></script>
	<script type="text/javascript" src="js/go.js"></script>
	<script type="text/javascript" src="js/ad.js"></script>
	<script type="text/javascript" src="js/vungle.js"></script>
	<script type="text/javascript" src="js/unity.js"></script>
	<script type="text/javascript" src="js/mintegral.js"></script>

	<div id="demo-container">
		<label for="file-input" id="file-input-label" class="btnn1">Choose Your HTML File
			<span class="tooltiptext">Upload file</span>
		</label>
		<input type="file" id="file-input" accept="text/html" />
		<div id="file-progress-container">
			<span id="file-progress-percent"></span>% read
		</div>
	</div>

	<div class="container" style="margin-top:30px; height: 1000px">
		<p id="notice"><----------------------------\\ File upload successfully //----------------------------></p>
		<h4>Fill out destination files name then choose a nework to generate code!</h4>
		<form>
			<div class="form-group">
				<label for="fName" class="fName">File name:</label>
				<input type="text" class="form-control" id="fName" name="FileName" 
				required="true" placeholder="Give your product name here">
			</div>
		</form>
		<br>
		<button id="btnIs" type="button" class="btn btn-success btnn">Iron Source
			<span class="tooltiptext">Get Ironsource</span>
		</button>
		<button id="btnFb" type="button" class="btn btn-success btnn">Facebook
			<span class="tooltiptext">Get Facebook</span>
		</button>
		<button id="btnGl" type="button" class="btn btn-success btnn">Google
			<span class="tooltiptext">Get Google</span>
		</button>
		<button id="btnMi" type="button" class="btn btn-success btnn">Mintegral
			<span class="tooltiptext">Get Mintegral</span>
		</button>
		<button id="btnUn" type="button" class="btn btn-success btnn">Unity
			<span class="tooltiptext">Get Unity</span>
		</button>
		<button id="btnVu" type="button" class="btn btn-success btnn">Vungle
			<span class="tooltiptext">Get Vungle</span>
		</button>
		<button id="btnAp" type="button" class="btn btn-secondary btnn">Applovin
			<span class="tooltiptext">I'll do nothing!</span>
		</button>
		<button id="btnAd" type="button" class="btn btn-success btnn">Adcolony
			<span class="tooltiptext">Get Adcolony</span>
		</button>
		<button id="btnAll" type="button" class="btn btn-info btnn">All Networks
			<span class="tooltiptext">Get All</span>
		</button>
		<br><br>
		<h4 style="color: red;">File's size must be compatible with Advertiser networks!</h4>
		<br><br>
	</div>

	<script type="text/javascript">
		document.querySelector("#file-input").addEventListener('change', function() {
			var all_files = this.files;
			if(all_files.length == 0) {
				alert('Error : No file selected');
				return;
			}

			var file = all_files[0];

			var allowed_types = [ 'text/html' ];
			if(allowed_types.indexOf(file.type) == -1) {
				alert('Error : Incorrect file type');
				return;
			}

			var max_size_allowed = 10*1024*1024
			if(file.size > max_size_allowed) {
				alert('Error : Exceeded size 10 MB');
				return;
			}

			var reader = new FileReader();

			reader.addEventListener('loadstart', function() {
				document.querySelector("#file-input-label").style.display = 'none'; 
			});

			reader.addEventListener('load', function(e) {
				var text = e.target.result;
				document.querySelector("#notice").style.display = 'block';
				document.querySelector("#file-input-label").style.display = 'block'; 

				document.getElementById('btnIs').addEventListener("click", function() {
					ironSource(text);
				});

				document.getElementById('btnFb').addEventListener("click", function() {
					fb(text);
				});

				document.getElementById('btnGl').addEventListener("click", function() {
					go(text);
				});

				document.getElementById('btnAd').addEventListener("click", function() {
					requestLib(text);
				});

				document.getElementById('btnVu').addEventListener('click', function() {
					vungle(text);
				});

				document.getElementById('btnUn').addEventListener('click', function() {
					unity(text);
				});

				document.getElementById('btnMi').addEventListener('click', function() {
					mintegral(text);
				});

				document.getElementById('btnAll').addEventListener('click', function() {
					genAllNks(text);
				});
			});

			reader.addEventListener('error', function() {
				alert('Error : Failed to read file');
			});

			reader.addEventListener('progress', function(e) {
				if(e.lengthComputable == true) {
					document.querySelector("#file-progress-percent").innerHTML = Math.floor((e.loaded/e.total)*100);
					document.querySelector("#file-progress-percent").style.display = 'block';
				}
			});

			reader.readAsText(file);
		});

		function genAllNks(con) {
			ironSource(con);
			fb(con);
			go(con);
			vungle(con);
			unity(con);
			mintegral(con);
			ad(con);
		}

		function ironSource(con) {
			var res = genIS(con);
			var ext = '_ironsource';
			gen(res, ext);
		}

		function fb(con) {
			var res = genFb(con);
			var txt = '_fb';
			gen(res, txt);
		}

		function go(con) {
			var res = genGo(con);
			var txt = '_gg';
			gen(res, txt);
		}

		function requestLib(con) {
			var url = 'https://thantrieu.github.io/TestGameForOgn/js/lib/lib26.js';
			var res = genAd(con);
			fetch(url).then(function(response) {
				response.text().then(function(text) {
					res = changeLib(res, text);
					var txt = '_adcolony';
					gen(res, txt);
				});
			});
		}

		function vungle(con) {
			var res = genVu(con);
			var txt = '_vungle';
			gen(res, txt);
		}

		function unity(con) {
			var res = genUnity(con);
			var txt = '_unity';
			gen(res, txt);
		}

		function mintegral(con) {
			var res = genMin(con);
			var txt = '_min';
			gen(res, txt);
		}

		function dateTime() {
			var day = new Date();
			var date = (day.getDate() < 10) ? "0" + day.getDate() : "" + day.getDate();
			var month = ((day.getMonth() + 1) < 10) ? "0" + (1 + day.getMonth()) : "" + day.getMonth();
			var year = day.getFullYear() % 1000;
			var tm = "_v" + date + month + year;
			return tm;
		}


		function gen(con, ext) {
			var textToWrite = con;
			var textFileAsBlob = new Blob([textToWrite], {type:'text/plain'});
			var fileNameToSaveAs = document.getElementById('fName').value + ext + dateTime() + '.html';
			var downloadLink = document.createElement("a");
			downloadLink.download = fileNameToSaveAs;
			if (window.webkitURL != null) {
				downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);
			}
			else {
				downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
				downloadLink.onclick = destroyClickedElement;
				downloadLink.style.display = "none";
				document.body.appendChild(downloadLink);
			}

			downloadLink.click();
		}
	</script>
	<footer class="page-footer font-small unique-color-dark">
		<div style="background-color: #6351ce;">
			<div class="container">
				<div class="row py-4 d-flex align-items-center">
					<div class="col-md-6 col-lg-5 text-center text-md-left mb-4 mb-md-0">
						<h6 class="mb-0" style="color: #fff">Get connected with me on social networks!</h6>
					</div>
					<div class="col-md-6 col-lg-7 text-center text-md-right">
						<a class="fb-ic">
							<i class="fab fa-facebook-f white-text mr-4"> </i>
						</a>
						<a class="tw-ic">
							<i class="fab fa-twitter white-text mr-4"> </i>
						</a>
						<a class="gplus-ic">
							<i class="fab fa-google-plus-g white-text mr-4"> </i>
						</a>
						<a class="li-ic">
							<i class="fab fa-linkedin-in white-text mr-4"> </i>
						</a>
						<a class="ins-ic">
							<i class="fab fa-instagram white-text"> </i>
						</a>
					</div>
				</div>
			</div>
		</div>
		<div class="container text-center text-md-left mt-5">
			<div class="row mt-3">
				<div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
					<h6 class="text-uppercase font-weight-bold">Company name</h6>
					<hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
					<p>Bino Co.Ltd.</p>
				</div>
				<div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
					<h6 class="text-uppercase font-weight-bold">Products</h6>
					<hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
					<p>
						<a href="#!">Online Courses</a>
					</p>
					<p>
						<a href="#!">Playable Ads</a>
					</p>
					<p>
						<a href="#!">Mini Game</a>
					</p>
					<p>
						<a href="#!">Others</a>
					</p>
				</div>
				<div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
					<h6 class="text-uppercase font-weight-bold">Useful links</h6>
					<hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
					<p>
						<a href="#!">Your Account</a>
					</p>
					<p>
						<a href="#!">Become an Partner</a>
					</p>
					<p>
						<a href="#!">Users Rating</a>
					</p>
					<p>
						<a href="#!">Help</a>
					</p>
				</div>
				<div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
					<h6 class="text-uppercase font-weight-bold">Contact</h6>
					<hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
					<p>
						<i class="fas fa-home mr-3"></i>273 Cổ Nhuế, Bắc Từ Liêm, Hà Nội, HN, Việt Nam</p>
						<p>
							<i class="fas fa-envelope mr-3"></i> trieuthan92pro@gmail.com</p>
							<p>
								<i class="fas fa-phone mr-3"></i> + 84 38 213 5995</p>
								<p>
									<i class="fas fa-phone mr-3"></i> + 84 56 500 5440</p>
								</div>
							</div>
						</div>
						<div class="footer-copyright text-center py-3">© 2019 Copyright:
							<a href="https://thantrieu.github.io/TestGameForOgn/"> Bino</a>
						</div>
					</footer>
				</body>
				</html>